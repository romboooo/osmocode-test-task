Тестовое задание – PHP-разработчик

Описание задания
Задача:
1.	На вход дается строка вида <text1::text2::<test3::text4>text5>text6….
2.	Для раскрытия строки действуют следующие правила:
- последовательность <text1::text2> раскрывается как одно из перечисленных через :: значений – text1 или text2
- вложенные скобки раскрываются аналогично, вложенность может быть бесконечной
        3. Необходимо реализовать генерацию всех возможных вариантов строки поданной на вход. В случае ошибки в синтаксисе строки (например, отсутствии закрывающей скобки) должно выводиться сообщение.
        4. Полученные варианты раскрытия строки необходимо положить в БД. 
    - при каждом запуске скрипта с новым паттерном в таблицу записываются новые варианты строк
- дублирование строк в таблице не допускается
-необходимо  реализовать этот механизм самым эффективным (в вычислительной сложности) известным вам способом.

Пример входной строки
Товарищи!< С другой стороны::< Равным:: Таким > образом>  практика показывает, что <реализация <намеченных заданий::развития <<организационной::форм> деятельности::обучения кадров:: плановых заданий>>::постоянный рост активности> требует от нас анализа <новых предложений::<финансовых::административных> условий:: поставленных <задач::целей>>
Требования
Стек – PHP/MySQL
Пожелания
Выложите код скрипта на github, либо пришлите его как zip-архив.
Поясните, сколько на каждую часть задания ушло времени.


------------------------------------------------------------------------------------------

Инициализация бд:

CREATE DATABASE osmocode-task-db;

CREATE TABLE bars (
    id INT AUTO_INCREMENT PRIMARY KEY,  
    bar text not null,
    UNIQUE KEY unique_bar (bar(255))
);



------------------------------------------------------------------------------------------

Тайминг:

Анализ языка (синтаксис, особенности) - 2 часа 

Решение алгоритма - 3.5-4 часа

Работа с бд (подключение, написание запросов, тестировка) - 1 час

Написание тестов - 1 час